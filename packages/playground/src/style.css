@import 'https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600&family=Space+Grotesk:wght@400;500;600;700&display=swap';
@import 'tailwindcss';
@config '../tailwind.config.ts';
@custom-variant dark (&:where([data-theme='dark'], [data-theme='dark'] *));

@theme {
  --color-pg-text: rgb(30 41 59);
  --color-pg-text-strong: rgb(15 23 42);
  --color-pg-text-soft: rgb(51 65 85);
  --color-pg-text-muted: rgb(100 116 139 / 70%);
  --color-pg-text-subtle: rgb(100 116 139 / 60%);
  --color-pg-on-accent: rgb(255 255 255);
  --color-pg-on-accent-soft: rgb(255 255 255 / 90%);
  --color-pg-accent: rgb(14 165 233);
  --color-pg-accent-ring: rgb(125 211 252 / 60%);
  --color-pg-border: rgb(226 232 240 / 70%);
  --color-pg-divider: rgb(226 232 240 / 70%);
  --color-pg-surface-shell: rgb(255 255 255 / 60%);
  --color-pg-surface-card: rgb(255 255 255 / 70%);
  --color-pg-surface-strong: rgb(255 255 255 / 80%);
  --color-pg-surface-panel: rgb(255 255 255 / 95%);
  --color-pg-surface-soft: rgb(255 255 255 / 60%);
  --color-pg-surface-muted: rgb(241 245 249);
  --color-pg-hover: rgb(224 242 254 / 70%);
  --color-pg-hover-strong: rgb(226 232 240 / 60%);
  --color-pg-danger-bg: rgb(254 242 242 / 80%);
  --color-pg-danger-border: rgb(244 63 94 / 40%);
  --color-pg-danger-text: rgb(190 18 60);
  --color-pg-chip: rgb(241 245 249);
  --color-pg-chip-text: rgb(51 65 85);
}

@layer base {
  :root {
    color-scheme: light;

    --scrollbar-size: 8px;
    --scrollbar-track: rgb(214 226 238 / 60%);
    --scrollbar-thumb: rgb(120 150 185 / 55%);
    --scrollbar-thumb-hover: rgb(96 128 165 / 75%);
    --pg-app-bg:
      radial-gradient(circle at top, rgb(209 226 245 / 45%), transparent 55%),
      radial-gradient(circle at 85% 20%, rgb(200 230 222 / 35%), transparent 50%),
      radial-gradient(circle at 12% 80%, rgb(245 238 226 / 40%), transparent 55%);
  }

  :root[data-theme='dark'] {
    color-scheme: dark;

    --scrollbar-track: rgb(24 32 44 / 80%);
    --scrollbar-thumb: rgb(110 140 176 / 50%);
    --scrollbar-thumb-hover: rgb(140 170 205 / 70%);
    --pg-app-bg:
      radial-gradient(circle at top, rgb(38 60 92 / 55%), transparent 55%),
      radial-gradient(circle at 85% 20%, rgb(24 78 96 / 40%), transparent 50%),
      radial-gradient(circle at 12% 80%, rgb(70 58 44 / 45%), transparent 55%);
    --color-pg-text: rgb(248 250 252);
    --color-pg-text-strong: rgb(248 250 252);
    --color-pg-text-soft: rgb(241 245 249);
    --color-pg-text-muted: rgb(226 232 240 / 70%);
    --color-pg-text-subtle: rgb(226 232 240 / 60%);
    --color-pg-on-accent: rgb(255 255 255);
    --color-pg-on-accent-soft: rgb(255 255 255 / 90%);
    --color-pg-accent: rgb(56 189 248);
    --color-pg-accent-ring: rgb(56 189 248 / 45%);
    --color-pg-border: rgb(51 65 85 / 50%);
    --color-pg-divider: rgb(51 65 85 / 50%);
    --color-pg-surface-shell: rgb(2 6 23 / 70%);
    --color-pg-surface-card: rgb(15 23 42 / 70%);
    --color-pg-surface-strong: rgb(15 23 42 / 80%);
    --color-pg-surface-panel: rgb(2 6 23 / 95%);
    --color-pg-surface-soft: rgb(15 23 42 / 60%);
    --color-pg-surface-muted: rgb(30 41 59);
    --color-pg-hover: rgb(15 23 42 / 70%);
    --color-pg-hover-strong: rgb(30 41 59 / 70%);
    --color-pg-danger-bg: rgb(76 5 25 / 40%);
    --color-pg-danger-border: rgb(253 164 175 / 40%);
    --color-pg-danger-text: rgb(255 228 230 / 80%);
    --color-pg-chip: rgb(30 41 59);
    --color-pg-chip-text: rgb(226 232 240);
  }

  html,
  body,
  #app {
    height: 100%;
    overflow: hidden;
  }

  body {
    font-family: 'Space Grotesk', 'Segoe UI', sans-serif;
    color: var(--color-pg-text);
    transition:
      background-color 200ms ease,
      color 200ms ease;
  }

  * {
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
    scrollbar-width: thin;
  }

  *::-webkit-scrollbar {
    width: var(--scrollbar-size);
    height: var(--scrollbar-size);
  }

  *::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
    border-radius: 999px;
  }

  *::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb);
    background-clip: content-box;
    border: 2px solid transparent;
    border-radius: 999px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: var(--scrollbar-thumb-hover);
  }

  button,
  [role='button'],
  a {
    cursor: pointer;
  }

  .font-display {
    font-family: Fraunces, 'Times New Roman', serif;
  }
}

@layer utilities {
  .pg-app-bg {
    background: var(--pg-app-bg);
  }

  .method-get {
    @apply bg-emerald-200/60 text-emerald-900 dark:bg-emerald-400/20 dark:text-emerald-100;
  }

  .method-post {
    @apply bg-sky-200/60 text-sky-900 dark:bg-sky-400/20 dark:text-sky-100;
  }

  .method-put {
    @apply bg-orange-200/60 text-orange-900 dark:bg-orange-400/20 dark:text-orange-100;
  }

  .method-patch {
    @apply bg-indigo-200/60 text-indigo-900 dark:bg-indigo-400/20 dark:text-indigo-100;
  }

  .method-delete {
    @apply bg-rose-200/60 text-rose-900 dark:bg-rose-400/20 dark:text-rose-100;
  }

  @keyframes pg-attention {
    0% {
      box-shadow: 0 0 0 0 var(--color-pg-danger-border);
    }
    40% {
      box-shadow: 0 0 0 5px var(--color-pg-danger-border);
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }

  .pg-pulse {
    animation: pg-attention 0.7s ease-out 2;
  }

  .pg-tab-missing {
    outline: 2px solid var(--color-pg-danger-border);
    outline-offset: 2px;
  }

  .pg-input-missing {
    border-color: var(--color-pg-danger-border);
    background-color: var(--color-pg-danger-bg);
    outline: 1px solid var(--color-pg-danger-border);
    outline-offset: 0;
  }

  .pg-tab-badge {
    letter-spacing: 0.2em;
    font-size: 0.5rem;
  }
}
